<!DOCTYPE HTML>

<html>
    <head>
        <script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "/"
        },
        "articleSection" : "package",
        "name" : "pipecleaner",
        "headline" : "pipecleaner",
        "description" : "Debug magrittr pipelines",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2018",
        "datePublished": "2018-03-21 00:00:00 &#43;0000 UTC",
        "dateModified" : "2018-03-21 00:00:00 &#43;0000 UTC",
        "url" : "/package/pipecleaner/",
        "wordCount" : "483",
        "keywords" : [ "pipe","magrittr","debugging","utility","Blog" ]
    }
    </script>
        
            
                <title>pipecleaner</title>
            
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.37.1" />
        
  
    
    
  

  

  <link rel="apple-touch-icon-precomposed" href='/favicon/apple-touch-icon-precomposed-favicon.ico.png'>
  <link rel="icon" href='/favicon/favicon-favicon.ico.png'>
  
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content='/favicon/mstile-favicon.ico.png'>
  <meta name="application-name" content="E. Visel">
  <meta name="msapplication-tooltip" content="Odds, ends, and R code">
  <meta name="msapplication-config" content='/favicon/ieconfig.xml'>



        
            <meta name="author" content="Edward Visel">
        
        
            <meta name="description" content="Debug magrittr pipelines">
        

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="pipecleaner"/>
<meta name="twitter:description" content="Debug magrittr pipelines"/>
<meta name="twitter:site" content="@alistaire"/>

        <meta property="og:title" content="pipecleaner" />
<meta property="og:description" content="Debug magrittr pipelines" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/package/pipecleaner/" />



<meta property="article:published_time" content="2018-03-21T00:00:00&#43;00:00"/>

<meta property="article:modified_time" content="2018-03-21T00:00:00&#43;00:00"/>











        <meta property="og:image" content="//images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="512">
        <meta property="og:image:height" content="512">
        
<meta itemprop="name" content="pipecleaner">
<meta itemprop="description" content="Debug magrittr pipelines">


<meta itemprop="datePublished" content="2018-03-21T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2018-03-21T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="483">



<meta itemprop="keywords" content="pipe,magrittr,debugging,utility," />

        

        
            
        

        
        
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/add-on.css">
            <link rel="stylesheet" href="/css/academicons.min.css">
        

        
            
                
            
        


  
    
    <link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />
  


      
    </head>
    <body>

      
      <div id="wrapper">

    
    
<header id="header">
    
      <h1><a href="/">package</a></h1>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/">
                            <i class="fa fa-home">&nbsp;</i>Home
                    </a>
                </li>
            
                <li>
                    <a href="/about/">
                            <i class="fa fa-id-card-o">&nbsp;</i>About
                    </a>
                </li>
            
                <li>
                    <a href="/blog/">
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/package/">
                            <i class="fa fa-archive">&nbsp;</i>Packages
                    </a>
                </li>
            
                <li>
                    <a href="/categories/">
                            <i class="fa fa-list">&nbsp;</i>Categories
                    </a>
                </li>
            
                <li>
                    <a href="/contact/">
                            <i class="fa fa-envelope-o">&nbsp;</i>Contact
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li id="share-nav" class="share-menu" style="display:none;">
                <a class="fa-share-alt" href="#share-menu">Share</a>
            </li>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="as_sitesearch" value="/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="as_sitesearch" value="/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/">
                            <h3>
                                <i class="fa fa-home">&nbsp;</i>Home
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about/">
                            <h3>
                                <i class="fa fa-id-card-o">&nbsp;</i>About
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/blog/">
                            <h3>
                                <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/package/">
                            <h3>
                                <i class="fa fa-archive">&nbsp;</i>Packages
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories/">
                            <h3>
                                <i class="fa fa-list">&nbsp;</i>Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/contact/">
                            <h3>
                                <i class="fa fa-envelope-o">&nbsp;</i>Contact
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section class="recent-posts">
            <div class="mini-posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                

                
                    
                

                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/pythagorean-triples/">Pythagorean Triples</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-03-23'>
                                    March 23, 2018</time>
                            </header>
                            
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/pythagorean-triples/" class="image featured">
            <img src="/img/2018/03/triples.png" alt="">
        </a>
    


                        </article>
                
                        <article class="mini-post">
                            <header>
                                <h3><a href="/blog/p5-in-r/">p5 in R</a></h3>
                                
                                <time class="published" datetime=
                                    '2018-03-23'>
                                    March 23, 2018</time>
                            </header>
                            
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/p5-in-r/" class="image featured">
            <img src="/img/2018/03/p5.png" alt="">
        </a>
    


                        </article>
                

                
            </div>
        </section>

    
        
</section>

    <section id="share-menu">
    <section id="social-share-nav">
        <ul class="links">
            <header>
                <h3>Share this post <i class="fa fa-smile-o"></i></h3>
            </header>
            



<li>
  <a href="//twitter.com/share?url=%2fpackage%2fpipecleaner%2f&amp;text=pipecleaner&amp;via=alistaire" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=%2fpackage%2fpipecleaner%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=%2fpackage%2fpipecleaner%2f&amp;title=pipecleaner" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fpackage%2fpipecleaner%2f&amp;title=pipecleaner" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>










<li>
  <a href="mailto:?subject=Check out this post by Edward%20Visel&amp;body=%2fpackage%2fpipecleaner%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


        </ul>
    </section>
</section>

    
    <div id="main">
        
        
        <article class="post">
  <header>
    <div class="title">
        
            <h1><a href="/package/pipecleaner/">pipecleaner</a></h1>
            
        
        
            <p>Debug magrittr pipelines</p>
        
    </div>
    <div class="meta">

      <span class="author">Edward Visel</span>
      <span class="author">R</span>
      
    </div>
</header>


  
    <section id="social-share">
      <ul class="icons">
        



<li>
  <a href="//twitter.com/share?url=%2fpackage%2fpipecleaner%2f&amp;text=pipecleaner&amp;via=alistaire" target="_blank" class="share-btn twitter">
    <i class="fa fa-twitter"></i>
    <p>Twitter</p>
    </a>
</li>








<li>
  <a href="//www.facebook.com/sharer/sharer.php?u=%2fpackage%2fpipecleaner%2f" target="_blank" class="share-btn facebook">
    <i class="fa fa-facebook"></i>
    <p>Facebook</p>
    </a>
</li>




<li>
  <a href="//reddit.com/submit?url=%2fpackage%2fpipecleaner%2f&amp;title=pipecleaner" target="_blank" class="share-btn reddit">
    <i class="fa fa-reddit-alien"></i>
    <p>Reddit</p>
  </a>
</li>




<li>
  <a href="//www.linkedin.com/shareArticle?url=%2fpackage%2fpipecleaner%2f&amp;title=pipecleaner" target="_blank" class="share-btn linkedin">
      <i class="fa fa-linkedin"></i>
      <p>LinkedIn</p>
    </a>
</li>










<li>
  <a href="mailto:?subject=Check out this post by Edward%20Visel&amp;body=%2fpackage%2fpipecleaner%2f" target="_blank" class="share-btn email">
    <i class="fa fa-envelope"></i>
    <p>Email</p>
  </a>
</li>


      </ul>
    </section>
  

  
  <div id="content">
    <p>For further information including complete documentation, see <a href="https://alistaire47.github.io/pipecleaner/">pipecleaner’s
full website</a>.</p>
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="pipecleaner" class="section level1">
<h1>pipecleaner</h1>
<p><a href="https://travis-ci.org/alistaire47/pipecleaner"><img src="https://travis-ci.org/alistaire47/pipecleaner.svg?branch=master" alt="Travis build status" /></a>
<a href="https://ci.appveyor.com/project/alistaire47/pipecleaner"><img src="https://ci.appveyor.com/api/projects/status/agx2ht7cpwrnrk0k?svg=true" alt="AppVeyor build status" /></a>
<a href="https://codecov.io/github/alistaire47/pipecleaner?branch=master"><img src="https://codecov.io/gh/alistaire47/pipecleaner/branch/master/graph/badge.svg" alt="Coverage status" /></a>
<a href="https://cran.r-project.org/package=pipecleaner"><img src="https://www.r-pkg.org/badges/version/pipecleaner" alt="CRAN status" /></a>
<a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle" /></a></p>
<p>pipecleaner is a utility R package to debug pipelines using the magrittr <code>%&gt;%</code>
pipe. Its <code>debug_pipeline</code> launches the debugging browser on the input pipeline
in a form that allows the user to step through the successive calls of the
pipeline, examining the output of each successive element.</p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>pipecleaner is not currently on CRAN, but can be installed with</p>
<pre class="r"><code># install.packages(&quot;devtools&quot;)
devtools::install_github(&quot;alistaire47/pipecleaner&quot;)</code></pre>
</div>
<div id="debugging-pipelines" class="section level2">
<h2>Debugging pipelines</h2>
<p>To debug a pipeline, call <code>debug_pipeline</code> on the raw code or a character
string of the code. If no input is supplied and it is called
from <a href="https://www.rstudio.com/products/RStudio/">RStudio</a>, it will use whatever
code is highlighed in the source editor as input.</p>
<p><code>debug_pipeline</code> can also be called via
an <a href="https://rstudio.github.io/rstudioaddins/">RStudio add-in</a> by highlighting
the pipeline to debug and then selecting “Debug pipeline in browser” from the
“Addins” menu.</p>
<p>Once called, <code>debug_pipeline</code> will reassemble the pipeline into a function that
can be debugged in the browser and call the debugger. Each line adds another
call from the pipeline and prints and the output so the user can see the status
of the data passed through the pipeline by stepping through the function.</p>
<p>The data is also stored to a variable called <code>dot[N]</code> in each line,
where <code>[N]</code> is the index of the call, making it easy to compare input and
output data of a step in the pipeline and try out new code formulations in the
console.</p>
<p>All together, it looks like this:</p>
<pre class="r"><code>library(magrittr)
library(pipecleaner)

debug_pipeline(
    1:5 %&gt;% 
        rev() %&gt;% 
        {. * 2} %&gt;% 
        sample()
)
#&gt; debugging in: pipeline_function()
#&gt; debug: {
#&gt;     print(dot1 &lt;- 1:5)
#&gt;     print(dot2 &lt;- 1:5 %&gt;% rev())
#&gt;     print(dot3 &lt;- 1:5 %&gt;% rev() %&gt;% {
#&gt;         . * 2
#&gt;     })
#&gt;     print(dot4 &lt;- 1:5 %&gt;% rev() %&gt;% {
#&gt;         . * 2
#&gt;     } %&gt;% sample())
#&gt; }
#&gt; debug: print(dot1 &lt;- 1:5)
#&gt; [1] 1 2 3 4 5
#&gt; debug: print(dot2 &lt;- 1:5 %&gt;% rev())
#&gt; [1] 5 4 3 2 1
#&gt; debug: print(dot3 &lt;- 1:5 %&gt;% rev() %&gt;% {
#&gt;     . * 2
#&gt; })
#&gt; [1] 10  8  6  4  2
#&gt; debug: print(dot4 &lt;- 1:5 %&gt;% rev() %&gt;% {
#&gt;     . * 2
#&gt; } %&gt;% sample())
#&gt; [1]  2  8  6  4 10
#&gt; exiting from: pipeline_function()</code></pre>
</div>
<div id="limitations" class="section level2">
<h2>Limitations</h2>
<p>pipecleaner should successfully debug most pipelines. However, due to its
structure, it does have known limitations:</p>
<ul>
<li>It can only handle the <code>%&gt;%</code> pipe, not more exotic pipes like <code>%$%</code>. For the
moment, this is unlikely to change, as accommodating varying pipes would
require a more complicated approach.</li>
<li>It cannot handle nested pipelines, e.g. piping within <code>dplyr::mutate</code>. This
may be rectified eventually.</li>
</ul>
</div>
<div id="related" class="section level2">
<h2>Related</h2>
<ul>
<li><a href="https://github.com/daranzolin/ViewPipeSteps">ViewPipeSteps</a> is a similar
project that calls <code>View()</code> after each step in the pipeline.</li>
<li>magrittr itself contains <code>debug_pipe</code>, which is a wrapper around <code>browser</code>
that returns its input, allowing it to be inserted within a pipeline.</li>
</ul>
</div>
</div>

  </div>

  <footer>
    <ul class="stats">
    
        

        
        
            <li>
                
                
                    

                    

                    
                        <i class="fa fa-list">&nbsp;</i>
                    

                    
                        Categories
                    
                
            </li>
        
    

    
    
        <li><a href='/categories/r'>R</a></li>
    
        <li><a href='/categories/package'>package</a></li>
    
</ul>

  </footer>
</article>


    </div>
    
<section id="sidebar">

  
  <section id="intro">
    
    
      
        <a href='/' class="logo"><img src="/img/main/me.jpeg" alt="Edward Visel" /></a>
      
    
    
      <header>
        <h2>Edward Visel</h2>
        <p>Odds, ends, and R code</p>
      </header>
    
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/alistaire47" target="_blank" title="GitHub" class="fa fa-github"></a></li>





  <li><a href="//stackoverflow.com/users/4497050" target="_blank" title="Stack Overflow" class="fa fa-stack-overflow"></a></li>





















  <li><a href="//linkedin.com/in/evisel" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



































  <li><a href="//twitter.com/alistaire" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>



















  <li><a href="mailto:edward.visel@gmail.com" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
  </section>

  
  <section class="recent-posts">
    <div class="mini-posts">
      <header>
        <h3>Recent Posts</h3>
      </header>
      <div class="posts-container">
        

        
          
        

        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/pythagorean-triples/">Pythagorean Triples</a>
              </h3>
              
              <time class="published" datetime='2018-03-23'>
                March 23, 2018
              </time>
            </header>
            
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/pythagorean-triples/" class="image featured">
            <img src="/img/2018/03/triples.png" alt="">
        </a>
    


          </article>
        
          <article class="mini-post">
            <header>
              <h3>
                <a href="/blog/p5-in-r/">p5 in R</a>
              </h3>
              
              <time class="published" datetime='2018-03-23'>
                March 23, 2018
              </time>
            </header>
            
    

    
        
        







  
  
    
  


        
        
        

        <a href="/blog/p5-in-r/" class="image featured">
            <img src="/img/2018/03/p5.png" alt="">
        </a>
    


          </article>
        
      </div>

      
    </div>
  </section>

  
  
  
  
  
    <section id="categories">
      <header>
        <h3>
          <a href="/categories/">Categories</a>
        </h3>
      </header>
        
          
        

        
        <p>
          <article>
            <header>
              
                <a href="/categories/r/">R</a>
                <span style="float:right;">5</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/package/">package</a>
                <span style="float:right;">3</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/dataviz/">dataviz</a>
                <span style="float:right;">2</span>
              
            </header>
          </article>
        </p>
        
        <p>
          <article>
            <header>
              
                <a href="/categories/processing/">Processing</a>
                <span style="float:right;">1</span>
              
            </header>
          </article>
        </p>
        
    </section>
  
  

  
  
    <section id="mini-bio">
      <h3>About</h3>
      <p>Hi, I'm Edward! Welcome to my little world of odds, ends, and R.</p>
      <a href="/about/" class="button">Learn More</a>
    </section>
  

  
  <section id="footer">
    
      <ul class="icons">
        
          
    <li><a href="/index.xml" type="application/rss+xml" target="_blank" title="RSS" class="fa fa-rss"></a></li>


        
        
  <li><a href="//github.com/alistaire47" target="_blank" title="GitHub" class="fa fa-github"></a></li>





  <li><a href="//stackoverflow.com/users/4497050" target="_blank" title="Stack Overflow" class="fa fa-stack-overflow"></a></li>





















  <li><a href="//linkedin.com/in/evisel" target="_blank" title="LinkedIn" class="fa fa-linkedin"></a></li>



































  <li><a href="//twitter.com/alistaire" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>



















  <li><a href="mailto:edward.visel@gmail.com" title="Email" class="fa fa-envelope"></a></li>


      </ul>
    
    <p class="copyright">
      
        &copy; 2018
        
          E. Visel
        
      .
      Powered by <a href="//gohugo.io" target="_blank">Hugo</a>
    </p>
  </section>
</section>

    </div>
    <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
    

    
      
    

    
      
      
      
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
        
        
        
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
        <script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/css.min.js"></script>
        <script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>
      
    
    
    
      <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js"></script>
      <script src="/js/util.js"></script>
      <script src="/js/main.js"></script>
      <script src="/js/backToTop.js"></script>
    

    
      
        
      
    

    
    <script>hljs.initHighlightingOnLoad();</script>
      <script src="//yihui.name/js/math-code.js"></script>
<script async
src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


  </body>
</html>

